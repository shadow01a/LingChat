# TODO 区域

- 尚未完成的任务，截至 2025/8/25

## 后端部分

### API 提供部分

- [ ] 为前端提供历史记录 Memory 数组获取接口
- [ ] 目前 backgrounds 似乎不是从 data/user_data 读取的，需要修改

### Core 核心功能

- [x] 新增对 deepseek 等 webllm 的翻译逻辑
- [ ] 消息队列有极低概率出现顺序错位的情况，应该确保消息队列发送顺序

### pic_analayzer 问题

- [ ] 目前 pic_analayer 图像分析使用的是 requests 库，使用同步方法而不是异步，导致整个程序会因为分析图片而卡顿，并且无法扩展。

### Vits 语音生成

- [x] 每次开始生成之前，删除文件夹的已有文件
- [x] 保证每次从后端获取的语音文件名都是不一样的
- [x] 完全重构tts-provider以便适配gsv等需要参考音频的项目 @影空

### 新功能 Features 开发

- [x] 实现新的定时器功能，ai_serivce 主动向 message_broker 推送消息

## 前端部分

### 主要聊天功能

- [x] 当下一个消息还没到来之前，假如不是最后一个句子，实现消息缓冲功能
- [x] 更新右上角的菜单按钮样式，变得更加现代化一点
- [x] 目前不知道为什么语音会有概率重复播报，已修复
- [x] GameDialog.vue 中，新增快速打开历史菜单的图标

### 菜单功能部分

- [ ] 修复菜单下标蓝色小横线在初始化和窗口大小变化的位置锁定问题
- [x] 完成存读档功能
- [ ] 完成历史记录功能：每次启动前端，从后端获取已有的消息队列
- [x] 完成高级设置功能
- [x] 完成多人物功能：实现选择人物功能
- [x] 完成音乐部分功能
- [ ] 完成文字中，获取 Websocket 通信状态和模型功能

### 开始界面部分 @元初

- [ ] 只在有存档的时候显示继续游戏
- [ ] 完成在不同页面切换的功能
- [ ] 移动加载动画到 MainChat 部分而不是初始菜单部分
- [ ] 完成 Settings 界面在初始菜单的展示功能
